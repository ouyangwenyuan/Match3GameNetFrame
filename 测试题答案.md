
现要为一款休闲游戏开发网络层框架。请结合你的经历分析：
1）有哪些常用的网络层框架方案？
	有以下3种
	1、	基于http/https + RESTful  API
		适合场景：回合制游戏，排行榜，数据上报等低频请求。
		开发简单，兼容所有后端服务，适合休闲游戏的社交功能
		用 Unity web Request 就能完成通信
	2、基于websocket
		适用场景：实时性要求稍高的玩法（如多人协作小游戏）
		用 Best Http（ 三方库） 或者 system.net.websockets. 
	3、基于socket
		适用场景：强实时性，大型网游（对战竞技类）自定义通信协议。

你可以参考Homescape，Bingo Blitz，Monopoly Go，开心消消乐这些热门游戏来选择合适的方案。
2）基于你选择的方案，网络层框架应该实现哪些功能？
	在国内玩开心消消乐比较多，目前本人账号已玩到3000多级，它采用的就是http/https + RESTful API，
	这种方案是目前大多数休闲游戏使用这种方案，简单易实现，兼容所有后端服务，适合休闲游戏的社交功能，
	此类游戏通常不需要实时通信，可本地离线玩，开发维护成本低，服务器扩展容易。
	

3）根据你的经验，网络框架还有哪些痛点需要考虑？
	1、	出海游戏常遇到的DNS解析问题，（dns 被劫持，跨境跨域网络质量差）
	2、 网络质量差，弱网环境请求失败率高，响应延迟大，丢包率高。
	3、	数据同步问题（如支持离线玩，比如开心消消乐，本地数据与服务器数据不一致）
	4、	时间不同步的问题（定期同步服务器时间，用相对时间计算，关键时间以服务器时间为准）
	5、	切换网络不会自动断线重连。
	6、	心跳包被系统杀死了
	7、 安全问题，协议被破解，作弊行为（用https 传输，对数据加密）

4）请用代码实现你的方案设计（可精简细节代码，但需要体现你的设计要点）。

	https://github.com/ouyangwenyuan/Match3GameNetFrame

	设计要点说明：
	这个框架基本涵盖了休闲游戏所需的大部分网络功能，包括：
	支持 HTTP 和 WebSocket 双协议， 考虑到游戏出海，支持 WebSocket，可应对实时性要求稍高的玩法。（比如：Bingo Blitz 多人玩法）
	1. 安全机制实现
	数据加密：
	使用Base64编码作为示例（实际项目应使用AES等加密算法）
	所有HTTP请求和WebSocket消息都会自动加密/解密
	请求签名：
	每个请求都包含timestamp、nonce和sign参数
	防止请求被篡改
	认证机制：
	WebSocket连接使用token认证
	HTTP请求可通过添加认证头实现

	2. 错误处理与恢复
	自动重试机制：
	HTTP请求失败会自动重试（可配置最大重试次数）
	WebSocket断开后自动重连

	错误分类：
	区分网络错误、服务器错误、数据解析错误等
	提供详细的错误信息和错误类型

	请求队列：
	优先级队列管理请求
	防止网络请求拥塞

	3. WebSocket支持
	连接管理：
	自动连接和重连
	心跳机制保持连接活跃

	消息处理：
	支持请求-响应模式（带回调）
	全局消息事件通知
	状态监控：
	实时连接状态检测
	最后消息时间跟踪
	
	


